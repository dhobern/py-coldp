<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>coldp.COLDP &#8212; COLDP 2024.12.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx_paramlinks.css" />
    <script src="_static/documentation_options.js?v=f0111856"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="coldp.NameBundle" href="name-bundle.html" />
    <link rel="prev" title="coldp" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="coldp-coldp">
<h1>coldp.COLDP<a class="headerlink" href="#coldp-coldp" title="Link to this heading">¶</a></h1>
<section id="class">
<h2>Class<a class="headerlink" href="#class" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.__init__">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ICZN'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_taxon_record</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_species_for_trinomials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_subspecies_for_infrasubspecifics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_synonyms_without_subgenus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basionyms_from_synonyms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classification_from_parents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_repeated_binomials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_taxa_for_not_established</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taxon_ids_from_accepted_name_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issues_to_stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Class to manage a set of Pandas dataframes for CSV tables in Catalogue
of Life Data Package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.name">¶</a> – The name for the COLDP package. If a folder of this name exists inside the folder specied by the folder parameter, this COLDP instance will be initialised with the contents of any COLDP-compliant CSV or TSV files in the named folder.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.folder"></span><strong>folder</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.folder">¶</a> – Name of folder that may contain the named COLDP source folder from which source files should be read (name specified via the name parameter) and that is the default folder in which a COLDP folder will be written when the COLDP instance is saved. This is not the folder in which the CSV files are written. It is the folder which will contain the subfolder holding CSV files.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.code"></span><strong>code</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.code">¶</a> – ICZN or ICBN to indicate the nomenclatural code for name formatting. ICZN is the default.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.default_taxon_record"></span><strong>default_taxon_record</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.default_taxon_record">¶</a> – Any values in the dictionary are automatically used as default values in taxon records added to the COLDP instance. In other words, the dictionary becomes the base into which other taxon record properties are then inserted.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.insert_species_for_trinomials"></span><strong>insert_species_for_trinomials</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.insert_species_for_trinomials">¶</a> – If true, insert species (taxon and name) if trinomials are provided without the associated species. This can be convenient when mapping source data that only lists infraspecific taxa for species with subspecies, varieties or forms.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.create_subspecies_for_infrasubspecifics"></span><strong>create_subspecies_for_infrasubspecifics</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.create_subspecies_for_infrasubspecifics">¶</a> – If true, automatically add a trinomial at subspecific rank as a synonym whenever an infrasubspecific name is added. This may be useful if the resulting dataset is intended to provide easy mapping of strings to taxon concepts, since versions of the trinomial lacking the rank marker will often be found in source data.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.create_synonyms_without_subgenus"></span><strong>create_synonyms_without_subgenus</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.create_synonyms_without_subgenus">¶</a> – If true, automatically add a binomial or trinomial without an included subgenus name as a synonym whenever a name including a subgenus is added. This may be useful if the resulting dataset is intended to provide easy mapping of strings to taxon concepts, since versions of lacking the subgeneric component will often be found in source data.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.basionyms_from_synonyms"></span><strong>basionyms_from_synonyms</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.basionyms_from_synonyms">¶</a> – If true, basionym associations are automatically created from synonyms within a loaded COLDP dataset. If an accepted name includes parentheses around the authorship, and if a name with the same epithet and authorship but no parentheses is included in the synonyms, the ID value for the synonym will be used for the basionymID element in the accepted name. This is normally a housekeeping step when first loading a new COLDP dataset. This option is only used when the dataset is first loaded. Addition of basionym relationships is automatic for names added as part of the same NameBundle.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.classification_from_parents"></span><strong>classification_from_parents</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.classification_from_parents">¶</a> – If true, insert names for higher ranks into relevant elements in each taxon record based on the parent and higher ancestry for the taxon.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.allow_repeated_binomials"></span><strong>allow_repeated_binomials</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.allow_repeated_binomials">¶</a> – If true, omit checks rejecting the addition of the same binomial more than once to the COLDP name dataframe.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.create_taxa_for_not_established"></span><strong>create_taxa_for_not_established</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.create_taxa_for_not_established">¶</a> – If true, generate taxon records even if the associated name is flagged as not established (i.e. not satisfying the relevant nomenclatural code)</p></li>
<li><p><span class="target" id="coldp.COLDP.params.issues_to_stdout"></span><strong>issues_to_stdout</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.issues_to_stdout">¶</a> – If true, print any issue messages (see <a class="reference internal" href="#coldp.COLDP.issue" title="coldp.COLDP.issue"><code class="xref py py-func docutils literal notranslate"><span class="pre">issue()</span></code></a>) to stdout as well as inserting then in the issue dataframe.</p></li>
<li><p><span class="target" id="coldp.COLDP.params.context"></span><strong>context</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.params.context">¶</a> – Value to be used in labeling issue records (see <a class="reference internal" href="#coldp.COLDP.issue" title="coldp.COLDP.issue"><code class="xref py py-func docutils literal notranslate"><span class="pre">issue()</span></code></a>). This value is more normally set using <a class="reference internal" href="#coldp.COLDP.set_context" title="coldp.COLDP.set_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_context()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p>A COLDP object is initialised with a source/destination folder, COLDP package
name and other options.</p>
<p>If a subfolder exists with the supplied name in the supplied folder, it
will be initialised with data from any CSV/TSV files it contains with any
of the following base names: name, taxon, synonym, reference,
distribution, speciesinteraction, namerelation, typematerial or nameusage,
and with a file extension recognised via <code class="xref py py-data docutils literal notranslate"><span class="pre">csv_extensions</span></code>.
File names are case insensitive.</p>
<p>Files with the base name nameusage are loaded only if the name, taxon or
synonym file is absent, in which case the contents of the nameusage file
are mapped internally to the more normalised COLDP format with separate
name + taxon + synonym tables.</p>
<p>If no folder exists with the supplied name, an empty instance is created.
Pandas dataframes are created as required for the COLDP data types as
data are inserted into the instance.</p>
<p>The <a class="reference internal" href="#coldp.COLDP.start_name_bundle" title="coldp.COLDP.start_name_bundle"><code class="xref py py-func docutils literal notranslate"><span class="pre">start_name_bundle()</span></code></a> method produces a <code class="xref py py-class docutils literal notranslate"><span class="pre">NameBundle</span></code> object for preparing an
accepted name and associated synonyms to pass to the <a class="reference internal" href="#coldp.COLDP.add_names" title="coldp.COLDP.add_names"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_names()</span></code></a> method
which creates name, taxon and synonym records as a set of cross-referenced
objects.</p>
<p>Other data is added using the <code class="xref py py-func docutils literal notranslate"><span class="pre">add_names()</span></code>, <a class="reference internal" href="#coldp.COLDP.add_name_relation" title="coldp.COLDP.add_name_relation"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_name_relation()</span></code></a>,
<code class="xref py py-func docutils literal notranslate"><span class="pre">add_typematerial()</span></code>, <a class="reference internal" href="#coldp.COLDP.add_distribution" title="coldp.COLDP.add_distribution"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_distribution()</span></code></a>, <a class="reference internal" href="#coldp.COLDP.add_species_interaction" title="coldp.COLDP.add_species_interaction"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_species_interaction()</span></code></a> and
<a class="reference internal" href="#coldp.COLDP.modify_taxon" title="coldp.COLDP.modify_taxon"><code class="xref py py-func docutils literal notranslate"><span class="pre">modify_taxon()</span></code></a> methods.</p>
<p>The <a class="reference internal" href="#coldp.COLDP.save" title="coldp.COLDP.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">save()</span></code></a> method writes the data back to the same or another folder.</p>
</dd></dl>

</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Link to this heading">¶</a></h2>
<section id="control-behaviour">
<h3>Control behaviour<a class="headerlink" href="#control-behaviour" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.set_options">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">set_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.set_options" title="Link to this definition">¶</a></dt>
<dd><p>Set options controlling COLDP instance from keyword arguments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.set_options.params.options"></span><strong>options</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.set_options.params.options">¶</a> – Set of boolean options for controlling the behaviour of the COLDP package - see <code class="xref py py-class docutils literal notranslate"><span class="pre">COLDP</span></code> for boolean options that can be set.</p>
</dd>
</dl>
<p>Convenience method for setting options via keyword arguments after the COLDP instance has been created.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.set_default_taxon_record">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">set_default_taxon_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_taxon_record</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.set_default_taxon_record" title="Link to this definition">¶</a></dt>
<dd><p>Set default values for properties in taxon records created by this COLDP instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.set_default_taxon_record.params.default_taxon_record"></span><strong>default_taxon_record</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.set_default_taxon_record.params.default_taxon_record">¶</a> – Any values in the dictionary are automatically used as default values in taxon records added to the COLDP instance. In other words, the dictionary becomes the base into which other taxon record properties are then inserted.</p>
</dd>
</dl>
<p>Convenience method for setting default taxon record after the COLDP instance has been created.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.set_context">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">set_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.set_context" title="Link to this definition">¶</a></dt>
<dd><p>Set a string label for annotating issues in the COLDP issue table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.set_context.params.context"></span><strong>context</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.set_context.params.context">¶</a> – String to label any issues associated with data changes from the current point forward</p>
</dd>
</dl>
<p>The COLDP class automatically logs errors and issues to an issues
dataframe. This dataframe is included among the CSV output files when
a COLDP instance is saved.</p>
<p>Each row in the issue table indicates a possible problem with data added
to the instance. The context variable provides an external mechanism for
the user to label these issues as they occur. For example, if the user
is processing a spreadsheet of species names, they can call set_context
with a string identifying the row from the source spreadsheet. This
value will be included in the context column in the issue.csv output.</p>
</dd></dl>

</section>
<section id="add-or-modify-records">
<h3>Add or modify records<a class="headerlink" href="#add-or-modify-records" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.start_name_bundle">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">start_name_bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accepted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incertae_sedis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.start_name_bundle" title="Link to this definition">¶</a></dt>
<dd><p>Return a NameBundle object based on the supplied accepted name and referencing this COLDP instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.start_name_bundle.params.accepted"></span><strong>accepted</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.start_name_bundle.params.accepted">¶</a> – Dictionary containing COLDP Name record for accepted name</p></li>
<li><p><span class="target" id="coldp.COLDP.start_name_bundle.params.incertae_sedis"></span><strong>incertae_sedis</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.start_name_bundle.params.incertae_sedis">¶</a> – If True, the associated COLDP Taxon Record will be flagged as <em>incertae sedis</em></p></li>
<li><p><span class="target" id="coldp.COLDP.start_name_bundle.params.sic"></span><strong>sic</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.start_name_bundle.params.sic">¶</a> – If True, issues will not be reported if the name is not properly code-compliant</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>NameBundle instance initialised with supplied parameters</p>
</dd>
</dl>
<p>This is the normal way to construct a new NameBundle object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.add_names">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">add_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.add_names" title="Link to this definition">¶</a></dt>
<dd><p>Ensure one or more names are included in names dataframe and update
taxa and synonyms dataframes as necessary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.add_names.params.bundle"></span><strong>bundle</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.add_names.params.bundle">¶</a> – <code class="xref py py-class docutils literal notranslate"><span class="pre">NameBundle</span></code> object with set of associated taxon names</p></li>
<li><p><span class="target" id="coldp.COLDP.add_names.params.parent"></span><strong>parent</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.add_names.params.parent">¶</a> – ID for taxon record for which the accepted taxon in this bundle is to be added as a child</p></li>
</ul>
</dd>
</dl>
<p>The supplied <code class="xref py py-class docutils literal notranslate"><span class="pre">NameBundle</span></code> object includes an accepted
name record (as a dictionary of COLDP name properties) and a list, which
may be empty, of synonym name records in the same format. <a class="reference internal" href="#coldp.COLDP.add_names" title="coldp.COLDP.add_names"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_names()</span></code></a>
ensures that name records exist for all these names in the names dataframe,
that a taxon record exists for the accepted taxon name, and that synonym
records exist for this taxon record for all supplied synonyms.</p>
<p>Depending on the options supplied for the <code class="xref py py-class docutils literal notranslate"><span class="pre">COLDP</span></code> object,
additional synonyms may be created to represent subspecies-rank versions
of infrasubspecific trinomials and subgenus-free versions of combinations
including a subgenus name.</p>
<p>If a matching name already exists in the COLDP instance, no new name will
normally be added. Instead, the name record in the bundle will be updated
with the ID (and basionymID where applicable) from the existing name. This
allows for additional synonyms to be added to an existing taxon. The
behaviour can be over-ridden with the <a class="reference internal" href="#coldp.COLDP.__init__.params.allow_repeated_binomials" title="coldp.COLDP.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">allow_repeated_binomials</span></code></a>
option, in which case any number of matching names can be added.</p>
<p>If the <a class="reference internal" href="#coldp.COLDP.__init__.params.insert_species_for_trinomials" title="coldp.COLDP.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">insert_species_for_trinomials</span></code></a> option is
set, a new species will be created if required before adding the
trinomial as its child. In this case the bundle will contain the id
for the species taxon as a species_taxon_id property.</p>
<p>Name records in the bundle are all updated with existing or new IDs and
basionymIDs, which are inferred automatically for zoological names by
associating combinations with and without parentheses around the
authorship.</p>
<p>Upon completion, the bundle also contains an accepted_taxon_id property
which includes the string ID for the taxon.</p>
<p>If <a class="reference internal" href="#coldp.COLDP.add_names.params.parent" title="coldp.COLDP.add_names"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">parent</span></code></a> is None, the new taxon record
is created without a parent, i.e. becomes a root node in the classification.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.add_references">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">add_references</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.add_references" title="Link to this definition">¶</a></dt>
<dd><p>Ensure one or more references are included in references dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.add_references.params.reference_list"></span><strong>reference_list</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.add_references.params.reference_list">¶</a> – List of dictionaries - each dictionary contains values keyed by terms from reference_headings</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Updated <a class="reference internal" href="#coldp.COLDP.add_references.params.reference_list" title="coldp.COLDP.add_references"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">reference_list</span></code></a> with IDs for references in this COLDP instance</p>
</dd>
</dl>
<p>Find existing ID values for each supplied reference, based on identity
of: author, title, issued, containerTitle, volume, issue, page and citation. Add
ID from the appropriate reference dictionary in references. If none
found, set ID to next unused index and add to references.</p>
<p>The list is returned updated with current ID values so these can be used for referenceID values in other classes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.add_type_material">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">add_type_material</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_material</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.add_type_material" title="Link to this definition">¶</a></dt>
<dd><p>Add COLDP TypeMaterial record to COLDP instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.add_type_material.params.type_material"></span><strong>type_material</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.add_type_material.params.type_material">¶</a> – COLDP TypeMaterial record represented as dictionary of properties</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>TypeMaterial record returned unchanged</p>
</dd>
</dl>
<p>The nameID value must match the ID value for an existing name record.</p>
<p>This method returns the record unchanged (for consistency with other
add records which may alter the provided record).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.add_distribution">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">add_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.add_distribution" title="Link to this definition">¶</a></dt>
<dd><p>Add COLDP Distribution record to COLDP instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.add_distribution.params.distribution"></span><strong>distribution</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.add_distribution.params.distribution">¶</a> – COLDP Distribution record represented as dictionary of properties</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Distribution record returned unchanged</p>
</dd>
</dl>
<p>The taxonID value must match the ID value for an existing taxon record.</p>
<p>This method returns the record unchanged (for consistency with other
add records which may alter the provided record).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.add_species_interaction">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">add_species_interaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interaction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.add_species_interaction" title="Link to this definition">¶</a></dt>
<dd><p>Add COLDP SpeciesInteraction record to COLDP instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.add_species_interaction.params.interaction"></span><strong>interaction</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.add_species_interaction.params.interaction">¶</a> – COLDP SpeciesInteraction record represented as dictionary of properties</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>SpeciesInteraction record returned unchanged</p>
</dd>
</dl>
<p>The taxonID value must match the ID value for an existing taxon record.</p>
<p>This method returns the record unchanged (for consistency with other
add records which may alter the provided record).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.add_name_relation">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">add_name_relation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_relation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.add_name_relation" title="Link to this definition">¶</a></dt>
<dd><p>Add COLDP NameRelation record to COLDP instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.add_name_relation.params.name_relation"></span><strong>name_relation</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.add_name_relation.params.name_relation">¶</a> – COLDP NameRelation record represented as dictionary of properties</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>NameRelation record returned unchanged</p>
</dd>
</dl>
<p>The nameID and relatedNameID values must match the ID values for existing
name records.</p>
<p>This method returns the record unchanged (for consistency with other
add records which may alter the provided record).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.add_synonym">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">add_synonym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">synonym</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.add_synonym" title="Link to this definition">¶</a></dt>
<dd><p>Add COLDP Synonym record to COLDP instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.add_synonym.params.synonym"></span><strong>synonym</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.add_synonym.params.synonym">¶</a> – COLDP Synonym record represented as dictionary of properties</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Synonym record returned unchanged</p>
</dd>
</dl>
<p>The taxonID value must match the ID value for an existing taxon record
and the nameID value must match the ID value for an existing name record.</p>
<p>This method returns the record unchanged (for consistency with other
add records which may alter the provided record).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.modify_name">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">modify_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.modify_name" title="Link to this definition">¶</a></dt>
<dd><p>Add or modify properties on a COLDP Name record</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.modify_name.params.taxon_id"></span><strong>taxon_id</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.modify_name.params.taxon_id">¶</a> – String ID for a Name record</p></li>
<li><p><span class="target" id="coldp.COLDP.modify_name.params.properties"></span><strong>properties</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.modify_name.params.properties">¶</a> – Dictionary of COLDP Name properties to be set for the identified record</p></li>
</ul>
</dd>
</dl>
<p>If a name record exists with the given ID, set all properties in the dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.modify_taxon">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">modify_taxon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxon_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.modify_taxon" title="Link to this definition">¶</a></dt>
<dd><p>Add or modify properties on a COLDP Taxon record</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.modify_taxon.params.taxon_id"></span><strong>taxon_id</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.modify_taxon.params.taxon_id">¶</a> – String ID for a Taxon record</p></li>
<li><p><span class="target" id="coldp.COLDP.modify_taxon.params.properties"></span><strong>properties</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.modify_taxon.params.properties">¶</a> – Dictionary of COLDP Taxon properties to be set for the identified record</p></li>
</ul>
</dd>
</dl>
<p>If a taxon record exists with the given ID, set all properties in the dictionary.</p>
</dd></dl>

</section>
<section id="save">
<h3>Save<a class="headerlink" href="#save" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.save">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destination</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.save" title="Link to this definition">¶</a></dt>
<dd><p>Write dataframes as COLDP CSV files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.save.params.destination"></span><strong>destination</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.save.params.destination">¶</a> – Path to folder in which package should be saved. Defaults to destination supplied to constructor, which defaults to “.”</p></li>
<li><p><span class="target" id="coldp.COLDP.save.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.save.params.name">¶</a> – Name for COLDP package (subfolder name). Defaults to name supplied to constructor, which defaults to None. If no name provided, save will fail.</p></li>
</ul>
</dd>
</dl>
<p>If necessary creates subfolder with name <a class="reference internal" href="#coldp.COLDP.save.params.name" title="coldp.COLDP.save"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">name</span></code></a>
in <a class="reference internal" href="#coldp.COLDP.save.params.destination" title="coldp.COLDP.save"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">destination</span></code></a>, and then writes CSV file
representations for all DataFrames in the folder. Empty columns are dropped.
Any numpy NAN elements are replaced with an empty string.</p>
</dd></dl>

</section>
<section id="find-or-get-records">
<h3>Find or get records<a class="headerlink" href="#find-or-get-records" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.find_taxon">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">find_taxon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scientificName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authorship</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.find_taxon" title="Link to this definition">¶</a></dt>
<dd><p>Get COLDP Taxon record (as Pandas dataframe) with accepted name matching supplied scientificName, authorship and rank values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.find_taxon.params.scientificName"></span><strong>scientificName</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_taxon.params.scientificName">¶</a> – Scientific name in canonical format</p></li>
<li><p><span class="target" id="coldp.COLDP.find_taxon.params.authorship"></span><strong>authorship</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_taxon.params.authorship">¶</a> – Authorship string</p></li>
<li><p><span class="target" id="coldp.COLDP.find_taxon.params.rank"></span><strong>rank</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_taxon.params.rank">¶</a> – Rank name string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>COLDP Taxon record matching supplied parameters</p>
</dd>
</dl>
<p>Logs a warning issue if multiple taxon records exist for a matching name and returns the first such match. Returns None if no match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.find_name_record">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">find_name_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.find_name_record" title="Link to this definition">¶</a></dt>
<dd><p>Return record from names DataFrame matching key fields (scientificName,
authorship and rank) in supplied record</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.find_name_record.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_name_record.params.name">¶</a> – Dictionary containing Name properties</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing matching record if found</p>
</dd>
</dl>
<p>Locates any existing record in the names DataFrame that matches the
supplied scientificName, authorship and rank and returns it as a
COLDP Name properties dictionary, or None if no match is found.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.find_names">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">find_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">properties</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.find_names" title="Link to this definition">¶</a></dt>
<dd><p>Get all COLDP Name records matching all the supplied properties</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.find_names.params.properties"></span><strong>properties</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_names.params.properties">¶</a> – Dictionary of property values to serve as filter</p></li>
<li><p><span class="target" id="coldp.COLDP.find_names.params.to_dict"></span><strong>to_dict</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_names.params.to_dict">¶</a> – True if records should be converted from Pandas format to dictionary records, False (default) otherwise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of COLDP Name records either as DataFrame or list of dictionaries</p>
</dd>
</dl>
<p>Returns all matching records as Pandas DataFrame or list of dictionaries. If no matches, None is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.find_name">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">find_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scientificName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authorship</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.find_name" title="Link to this definition">¶</a></dt>
<dd><p>Return record from names DataFrame matching supplied scientificName,
authorship and rank</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.find_name.params.scientificName"></span><strong>scientificName</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_name.params.scientificName">¶</a> – Scientific name in canonical format</p></li>
<li><p><span class="target" id="coldp.COLDP.find_name.params.authorship"></span><strong>authorship</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_name.params.authorship">¶</a> – Authorship string</p></li>
<li><p><span class="target" id="coldp.COLDP.find_name.params.rank"></span><strong>rank</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_name.params.rank">¶</a> – Rank name string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing matching record if found</p>
</dd>
</dl>
<p>Locates any existing record in the names DataFrame that matches the
supplied scientificName, authorship and rank and returns it as a
COLDP Name properties dictionary, or None if no match is found.</p>
<p>If <a class="reference internal" href="#coldp.COLDP.find_name.params.authorship" title="coldp.COLDP.find_name"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">authorship</span></code></a> is None, returns a
name based only on scientificName and rank.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.find_reference">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">find_reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.find_reference" title="Link to this definition">¶</a></dt>
<dd><p>Locate existing COLDP reference record exactly matching all major
fields in <a class="reference internal" href="#coldp.COLDP.find_reference.params.reference" title="coldp.COLDP.find_reference"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">reference</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.find_reference.params.reference"></span><strong>reference</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_reference.params.reference">¶</a> – Dictionary of COLDP reference properties representing a record to be found</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with one COLDP reference record if found, else None</p>
</dd>
</dl>
<p>Only returns a record that exactly matches the values supplied in
<a class="reference internal" href="#coldp.COLDP.find_reference.params.reference" title="coldp.COLDP.find_reference"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">reference</span></code></a> for all of
author, title, issued, containerTitle, volume, issue, page and citation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.find_distribution">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">find_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.find_distribution" title="Link to this definition">¶</a></dt>
<dd><p>Locate existing COLDP distribution record exactly matching all major
fields in <a class="reference internal" href="#coldp.COLDP.find_distribution.params.distribution" title="coldp.COLDP.find_distribution"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">distribution</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.find_distribution.params.distribution"></span><strong>distribution</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_distribution.params.distribution">¶</a> – Dictionary of COLDP distribution properties representing a record to be found</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with one COLDP distribution record if found, else None</p>
</dd>
</dl>
<p>Only returns a record that exactly matches the values supplied in
<a class="reference internal" href="#coldp.COLDP.find_distribution.params.distribution" title="coldp.COLDP.find_distribution"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">distribution</span></code></a> for all of
taxonID, area, gazetteer, status, referenceID.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.find_species_interaction">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">find_species_interaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interaction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.find_species_interaction" title="Link to this definition">¶</a></dt>
<dd><p>Locate existing COLDP speciesinteraction record exactly matching all major
fields in <a class="reference internal" href="#coldp.COLDP.find_species_interaction.params.interaction" title="coldp.COLDP.find_species_interaction"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">interaction</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.find_species_interaction.params.interaction"></span><strong>interaction</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_species_interaction.params.interaction">¶</a> – Dictionary of COLDP speciesinteraction properties representing a record to be found</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with one COLDP speciesinteraction record if found, else None</p>
</dd>
</dl>
<p>Only returns a record that exactly matches the values supplied in
<a class="reference internal" href="#coldp.COLDP.find_species_interaction.params.interaction" title="coldp.COLDP.find_species_interaction"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">interaction</span></code></a> for all of
taxonID, relatedTaxonID, relatedTaxonScientificName, type, and
referenceID.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.find_type_material">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">find_type_material</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_material</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.find_type_material" title="Link to this definition">¶</a></dt>
<dd><p>Locate existing COLDP typematerial record exactly matching all major
fields in <a class="reference internal" href="#coldp.COLDP.find_type_material.params.type_material" title="coldp.COLDP.find_type_material"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">type_material</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.find_type_material.params.type_material"></span><strong>type_material</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.find_type_material.params.type_material">¶</a> – Dictionary of COLDP typematerial properties representing a record to be found</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with one COLDP typematerial record if found, else None</p>
</dd>
</dl>
<p>Only returns a record that exactly matches the values supplied in
<a class="reference internal" href="#coldp.COLDP.find_type_material.params.type_material" title="coldp.COLDP.find_type_material"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">type_material</span></code></a> for all of
nameID, citation, status, locality, country, latitude, longitude,
elevation, date, collector, institutionCode, sex and referenceID, .</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_name">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_name" title="Link to this definition">¶</a></dt>
<dd><p>Return record from names DataFrame with supplied ID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.get_name.params.id"></span><strong>id</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_name.params.id">¶</a> – String ID for COLDP Name record</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas DataFrame containing matching record if found</p>
</dd>
</dl>
<p>Locates any existing record in the names DataFrame with the supplied
ID, or None if no match is found. If multiple matches are found, logs
an issue and returns the first.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_reference">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_reference" title="Link to this definition">¶</a></dt>
<dd><p>Get reference record as dictionary from ID string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.get_reference.params.id"></span><strong>id</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_reference.params.id">¶</a> – ID string for requested COLDP reference record</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of COLDP reference properties for requested ID</p>
</dd>
</dl>
<p>Returns None if no matching reference. If multiple records exist with
the given id, a warning is logged and the first match is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_taxon">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_taxon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_taxon" title="Link to this definition">¶</a></dt>
<dd><p>Return a COLDP Taxon record matching the supplied ID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.get_taxon.params.id"></span><strong>id</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_taxon.params.id">¶</a> – String ID value</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary representation of COLDP Taxon record</p>
</dd>
</dl>
<p>Logs a warning if more than one match and returns the first such match.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_synonyms">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_synonyms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxonID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_synonyms" title="Link to this definition">¶</a></dt>
<dd><p>Get all COLDP Synonym records for the supplied taxon ID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.get_synonyms.params.taxonID"></span><strong>taxonID</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_synonyms.params.taxonID">¶</a> – String taxonID value</p></li>
<li><p><span class="target" id="coldp.COLDP.get_synonyms.params.to_dict"></span><strong>to_dict</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_synonyms.params.to_dict">¶</a> – True if records should be converted from Pandas format to dictionary records, False (default) otherwise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of COLDP Synonym records for taxon either as DataFrame or list of dictionaries</p>
</dd>
</dl>
<p>Returns all matching records as Pandas DataFrame or list of dictionaries. If no matches, None is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_synonymy">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_synonymy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nameID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_synonymy" title="Link to this definition">¶</a></dt>
<dd><p>Get accepted COLDP Name record and all synonym COLDP Name records for the supplied name ID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.get_synonymy.params.taxonID"></span><strong>taxonID</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_synonymy.params.taxonID">¶</a> – String nameID value</p></li>
<li><p><span class="target" id="coldp.COLDP.get_synonymy.params.to_dict"></span><strong>to_dict</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_synonymy.params.to_dict">¶</a> – True if records should be converted from Pandas format to dictionary records, False (default) otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple containing COLDP Name record for accepted name and a DataFrame or list of dictionaries representing all synonym Name records</p>
</dd>
</dl>
<p>Maps the name indicated by the provided nameID to the accepted taxon and
returns its name and the names for all synonyms for the taxon. These may
all be returned either as Pandas DataFrames or in dictionary representations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_children">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxonID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_children" title="Link to this definition">¶</a></dt>
<dd><p>Get all child taxa for the COLDP Taxon associated with the supplied taxonID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.get_children.params.taxonID"></span><strong>taxonID</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_children.params.taxonID">¶</a> – String ID for COLDP Taxon record</p></li>
<li><p><span class="target" id="coldp.COLDP.get_children.params.to_dict"></span><strong>to_dict</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_children.params.to_dict">¶</a> – True if records should be converted from Pandas format to dictionary records, False (default) otherwise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of COLDP Taxon records for children of identified taxon either as DataFrame or list of dictionaries</p>
</dd>
</dl>
<p>Returns all matching records as Pandas DataFrame or list of dictionaries. If no matches, None is returned.</p>
</dd></dl>

</section>
<section id="tidy-package">
<h3>Tidy package<a class="headerlink" href="#tidy-package" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.fix_basionyms">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">fix_basionyms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synonyms</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.fix_basionyms" title="Link to this definition">¶</a></dt>
<dd><p>Update dataframe of name records so that subsequent combination names refer to the original basionym record where present</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.fix_basionyms.params.names"></span><strong>names</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.fix_basionyms.params.names">¶</a> – Dataframe containing COLDP name records to be updated</p></li>
<li><p><span class="target" id="coldp.COLDP.fix_basionyms.params.synonyms"></span><strong>synonyms</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.fix_basionyms.params.synonyms">¶</a> – Dataframe containing COLDP synonym records corresponding to the name records in names</p></li>
</ul>
</dd>
</dl>
<p>For any name record in <a class="reference internal" href="#coldp.COLDP.fix_basionyms.params.names" title="coldp.COLDP.fix_basionyms"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">names</span></code></a>
if the name is a subsequent zoological combination (with
parentheses around authorship), find any other record in
<a class="reference internal" href="#coldp.COLDP.fix_basionyms.params.names" title="coldp.COLDP.fix_basionyms"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">names</span></code></a>
that matches the authorship, year and epithet but lacks parentheses and
update the basionymID property of the name to refer to this second
record’s ID. <a class="reference internal" href="#coldp.COLDP.fix_basionyms.params.synonyms" title="coldp.COLDP.fix_basionyms"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">synonyms</span></code></a> is used to
assist with selection of the correct match in cases where more than one
possible record is found.</p>
<p>The parameters are the two relevant DataFrames from the same COLDP instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.fix_classification">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">fix_classification</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.fix_classification" title="Link to this definition">¶</a></dt>
<dd><p>Tidy and fill in higher classification for taxon records based on hierarchy</p>
<p>Recursively fixes classification elements for whole taxa dataframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.sort_taxa">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">sort_taxa</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.sort_taxa" title="Link to this definition">¶</a></dt>
<dd><p>Sort taxa dataframe so that all taxon records are sequenced
hierarchically and alphabetically.</p>
<p>Following this method, the taxon table is sorted so that any taxa
without parents are sorted alphabetically by scientific nameand each is
followed immediately by its children and their descendents also sorted
alphabetically. The result is a tree with siblings ordered
alphabetically.</p>
<p>Existing ID values for all records are unchanged.</p>
<p>This is a convenience method to simplify review of the data in a
spreadsheet or editor tool. It also simplifies import of the data into
a database since there are no forward references to parent taxa.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.sort_names">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">sort_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.sort_names" title="Link to this definition">¶</a></dt>
<dd><p>Sort name records to match order of records in taxa dataframe and with
accepted names and synonyms sorted alphabetically</p>
<p>Records are sorted first in the current order of the taxon table and
then alphabetically within the set of names for each taxon.</p>
<p>Existing ID values for all records are unchanged.</p>
<p>This method is most useful following a call to <a class="reference internal" href="#coldp.COLDP.sort_taxa" title="coldp.COLDP.sort_taxa"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_taxa()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.reset_ids">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">reset_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.reset_ids" title="Link to this definition">¶</a></dt>
<dd><p>Reset all IDs for one or more COLDP data tables to consecutive values in the order of the table records</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.reset_ids.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.reset_ids.params.name">¶</a> – Table to be modified. One of name, taxon, reference or synonym. If name is None, all four are processed</p></li>
<li><p><span class="target" id="coldp.COLDP.reset_ids.params.prefix"></span><strong>prefix</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.reset_ids.params.prefix">¶</a> – Optional prefix string to be prepended before consecutive integer record ids</p></li>
</ul>
</dd>
</dl>
<p>Resets all ids for one or all of the four supported classes to consecutive
id values, with an optional string prefix which defaults to <code class="docutils literal notranslate"><span class="pre">&quot;s_&quot;</span></code> in the
case of synonym records and is otherwise empty.</p>
<p>Also modifies corresponding foreign ID references in other tables so they
continue to resolve correctly using the <code class="xref py py-data docutils literal notranslate"><span class="pre">id_mappings</span></code>
dictionary.</p>
<p>If no table name is specified, all four are processed.</p>
</dd></dl>

</section>
<section id="utilities">
<h3>Utilities<a class="headerlink" href="#utilities" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_text_tree">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_text_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxonID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span>&#160; <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synonym_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">=</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_text_tree" title="Link to this definition">¶</a></dt>
<dd><p>Generate formatted text tree for specified taxon and its descendents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.get_text_tree.params.taxonID"></span><strong>taxonID</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_text_tree.params.taxonID">¶</a> – String ID for taxon to be formatted</p></li>
<li><p><span class="target" id="coldp.COLDP.get_text_tree.params.indent"></span><strong>indent</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_text_tree.params.indent">¶</a> – Indent string to be added one or more times before each nested row, defaults to two spaces</p></li>
<li><p><span class="target" id="coldp.COLDP.get_text_tree.params.initial_prefix"></span><strong>initial_prefix</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_text_tree.params.initial_prefix">¶</a> – Optional prefix string for all rows (preceeds indentation), defaults to empty string</p></li>
<li><p><span class="target" id="coldp.COLDP.get_text_tree.params.synonym_prefix"></span><strong>synonym_prefix</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_text_tree.params.synonym_prefix">¶</a> – Prefix to appear before synonymised names, defaults to an equal sign with spaces on either side</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Multiline string representation of taxonomic hierarchy</p>
</dd>
</dl>
<p>The tree view shows the name, authorship and rank for the selected taxon.
Synonyms follow, one to a row at the same indent level but preceded by a
space and an asterisk. Then each child follows, indented two more spaces per level,
with its own synonyms and children following.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_available_column_headings">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_available_column_headings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_available_column_headings" title="Link to this definition">¶</a></dt>
<dd><p>Return dictionary mapping table names to lists of supported columns</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing copies of internal heading lists</p>
</dd>
</dl>
<p>Returns copies to avoid corrupting the lists used in this class</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_identifier_policy">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_identifier_policy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volatile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_identifier_policy" title="Link to this definition">¶</a></dt>
<dd><p>Find or create <code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierPolicy</span></code> associated with named table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.get_identifier_policy.params.table_name"></span><strong>table_name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_identifier_policy.params.table_name">¶</a> – Name of COLDP dataframe for which policy is required</p></li>
<li><p><span class="target" id="coldp.COLDP.get_identifier_policy.params.default_prefix"></span><strong>default_prefix</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_identifier_policy.params.default_prefix">¶</a> – String prefix to use before numeric ID values if existing ID values are not consistently positive integer values</p></li>
<li><p><span class="target" id="coldp.COLDP.get_identifier_policy.params.required"></span><strong>required</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_identifier_policy.params.required">¶</a> – Flag to indicate whether the table must have ID values - if False, the <code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierPolicy</span></code> will return None unless <a class="reference internal" href="identifier-policy.html#coldp.IdentifierPolicy.__init__.params.existing" title="coldp.IdentifierPolicy.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">existing</span></code></a> already contains ID values</p></li>
<li><p><span class="target" id="coldp.COLDP.get_identifier_policy.params.volatile"></span><strong>volatile</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_identifier_policy.params.volatile">¶</a> – Flag to indicate if external code may modify ID values while the current COLDP instance is active - if False, the policy and future values will be determined on initialisation, otherwise the policy will be reviewed for each new ID value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierPolicy</span></code> object or None if no policy is required for the table</p>
</dd>
</dl>
<p>Creates new <code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierPolicy</span></code> instance if this is the first invocation for the given table. Policies take into account any existing ID values for the table.</p>
</dd></dl>

</section>
<section id="access-to-dataframes">
<h3>Access to DataFrames<a class="headerlink" href="#access-to-dataframes" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.table_by_name">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">table_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.table_by_name" title="Link to this definition">¶</a></dt>
<dd><p>Return dataframe for named COLDP data class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.table_by_name.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.table_by_name.params.name">¶</a> – Name of data frame to return (one of: name, taxon, synonym, reference, type_material, distribution, species_interaction, name_relation)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Requested dataframe or None if no such table exists</p>
</dd>
</dl>
<p>Returns dataframe if one exists for supplied name.</p>
</dd></dl>

</section>
</section>
<section id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Link to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="coldp.csv_extensions">
<span class="sig-prename descclassname"><span class="pre">coldp.</span></span><span class="sig-name descname"><span class="pre">csv_extensions</span></span><a class="headerlink" href="#coldp.csv_extensions" title="Link to this definition">¶</a></dt>
<dd><p>Dictionary mapping supported CSV/TSV file extensions to the expected delimiter.</p>
<p>Supported extensions are .csv for comma-separated data files and .tsv or .txt for tab-delimited data files.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="coldp.id_mappings">
<span class="sig-prename descclassname"><span class="pre">coldp.</span></span><span class="sig-name descname"><span class="pre">id_mappings</span></span><a class="headerlink" href="#coldp.id_mappings" title="Link to this definition">¶</a></dt>
<dd><p>Dictionary mapping table names (name, taxon, reference or synonym) to a
dictionary that maps another table name to the properties in the second table
that reference ID values from the first table.</p>
<p>For example, <code class="xref py py-data docutils literal notranslate"><span class="pre">id_mappings</span></code> maps the key “name” to a 
dictionary that includes the key “namerelation” with a list containing 
“nameID” and “relatedNameID” as its value.</p>
<p>This is a map of the foreign-key relationships that need to be validated 
and preserved between the COLDP data tables.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="coldp.name_from_nameusage">
<span class="sig-prename descclassname"><span class="pre">coldp.</span></span><span class="sig-name descname"><span class="pre">name_from_nameusage</span></span><a class="headerlink" href="#coldp.name_from_nameusage" title="Link to this definition">¶</a></dt>
<dd><p>Dictionary mapping names of columns in COLDP Name records to the corresponding column names in COLDP NameUsage records</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="coldp.taxon_from_nameusage">
<span class="sig-prename descclassname"><span class="pre">coldp.</span></span><span class="sig-name descname"><span class="pre">taxon_from_nameusage</span></span><a class="headerlink" href="#coldp.taxon_from_nameusage" title="Link to this definition">¶</a></dt>
<dd><p>Dictionary mapping names of columns in COLDP Taxon records to the corresponding column names in COLDP NameUsage records</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="coldp.synonym_from_nameusage">
<span class="sig-prename descclassname"><span class="pre">coldp.</span></span><span class="sig-name descname"><span class="pre">synonym_from_nameusage</span></span><a class="headerlink" href="#coldp.synonym_from_nameusage" title="Link to this definition">¶</a></dt>
<dd><p>Dictionary mapping names of columns in COLDP Synonym records to the corresponding column names in COLDP NameUsage records</p>
</dd></dl>

</section>
<section id="internal-methods">
<h2>Internal methods<a class="headerlink" href="#internal-methods" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.initialise_dataframe">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">initialise_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">foldername</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_headings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.initialise_dataframe" title="Link to this definition">¶</a></dt>
<dd><p>Load or create a dataframe for one of the COLDP record types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.initialise_dataframe.params.foldername"></span><strong>foldername</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.initialise_dataframe.params.foldername">¶</a> – Path string for COLDP folder potentially containing serialised dataframe</p></li>
<li><p><span class="target" id="coldp.COLDP.initialise_dataframe.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.initialise_dataframe.params.name">¶</a> – Base name for COLDP class (name, taxon, etc.) for which the dataframe is requested</p></li>
<li><p><span class="target" id="coldp.COLDP.initialise_dataframe.params.default_headings"></span><strong>default_headings</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.initialise_dataframe.params.default_headings">¶</a> – Column headings to use if returning a new empty dataframe</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe for requested COLDP data class</p>
</dd>
</dl>
<p>Checks for a file in the COLDP folder with a supported extension (.csv, .tsv, .txt)
and a name matching one of the COLDP record types (name, taxon, synonym,
reference, distribution, typematerial or speciesinteraction). If this
exists, it is loaded as a Pandas dataframe.</p>
<p>If it is not found but the name is one of name, taxon or synonym and a
file with the name nameusage does exist, the relevant columns will be
loaded from the nameusage file.</p>
<p>If no matching file is found, returns an empty dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.extract_table">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">extract_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mappings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.extract_table" title="Link to this definition">¶</a></dt>
<dd><p>Extract a set of columns from a dataframe using a dictionary that maps
source columns names to target column names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.extract_table.params.df"></span><strong>df</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.extract_table.params.df">¶</a> – Dataframe from which columns are to be extracted/mapped</p></li>
<li><p><span class="target" id="coldp.COLDP.extract_table.params.headings"></span><strong>headings</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.extract_table.params.headings">¶</a> – List of column headings for destination dataframe</p></li>
<li><p><span class="target" id="coldp.COLDP.extract_table.params.mappings"></span><strong>mappings</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.extract_table.params.mappings">¶</a> – Dictionary mapping destination column names to source column names</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New Dataframe based on supplied mappings</p>
</dd>
</dl>
<p>This method is used to extract and rename a subset of columns from a
COLDP NameUsage table.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.insert_taxon">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">insert_taxon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parentID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incertae_sedis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taxon_ids_from_accepted_name_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.insert_taxon" title="Link to this definition">¶</a></dt>
<dd><p>Insert COLDP Taxon record as child of identified parent - creates or moves record as necessary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.insert_taxon.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.insert_taxon.params.name">¶</a> – COLDP Name record to be used as accepted name for new taxon</p></li>
<li><p><span class="target" id="coldp.COLDP.insert_taxon.params.parentID"></span><strong>parentID</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.insert_taxon.params.parentID">¶</a> – String identifier for parent taxon</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing taxon record</p>
</dd>
</dl>
<p>If a taxon record already exists for the name, any parenthood change is
made as required and the record is returned as a dictionary. Otherwise
a new record is created and returned. Default values are taken from the
<a class="reference internal" href="#coldp.COLDP.__init__.params.default_taxon_record" title="coldp.COLDP.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">default_taxon_record</span></code></a> dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.insert_synonym">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">insert_synonym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxon_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.insert_synonym" title="Link to this definition">¶</a></dt>
<dd><p>Add basic COLDP Synonym record to COLDP instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.insert_synonym.params.taxon_id"></span><strong>taxon_id</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.insert_synonym.params.taxon_id">¶</a> – String ID for taxon for which synonym is being registered</p></li>
<li><p><span class="target" id="coldp.COLDP.insert_synonym.params.name_id"></span><strong>name_id</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.insert_synonym.params.name_id">¶</a> – String ID for name which is being registered as a synonym</p></li>
</ul>
</dd>
</dl>
<p>Ensures that a synonym record exists in the COLDP instance for the given taxon and name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.fix_classification_recursive">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">fix_classification_recursive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.fix_classification_recursive" title="Link to this definition">¶</a></dt>
<dd><p>Recursively complete classification elements (higher taxon IDs) in
taxon records descended from a given parent or for all taxon records
in the COLDP instance at the highest included rank</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.fix_classification_recursive.params.taxa"></span><strong>taxa</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.fix_classification_recursive.params.taxa">¶</a> – Dataframe containing COLDP taxon records</p></li>
<li><p><span class="target" id="coldp.COLDP.fix_classification_recursive.params.ranks"></span><strong>ranks</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.fix_classification_recursive.params.ranks">¶</a> – DataFrame containing at least nameID, rank and scientificName for all names in COLDP instance (can be the complete table of COLDP names)</p></li>
<li><p><span class="target" id="coldp.COLDP.fix_classification_recursive.params.parent"></span><strong>parent</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.fix_classification_recursive.params.parent">¶</a> – Taxon record for which children should be updated, or None if all top-level taxa should be updated</p></li>
</ul>
</dd>
</dl>
<p>If <a class="reference internal" href="#coldp.COLDP.fix_classification_recursive.params.taxa" title="coldp.COLDP.fix_classification_recursive"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">taxa</span></code></a> is None, select all top-level taxa from the dataframe (i.e. all without a parentID) and process these recursively.</p>
<p>If a parent is supplied, copy classification properties (kingdom, phylum,
subphylum, class, subclass, order, suborder, superfamily, family, subfamily,
tribe, subtribe, genus, subgenus, section, species) from the parent
record, set any rank-specific column matching the rank of the parent
to the name of the parent taxon, and then copy these rank values into
all taxon records that are immediate descendents of the parent.
This will ensure that the higher classification for all children matches
this parent. Then call this method recursively for all children.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.sort_taxa_recursive">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">sort_taxa_recursive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.sort_taxa_recursive" title="Link to this definition">¶</a></dt>
<dd><p>Internal method for recursive sorting of taxon records by parent and
name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.sort_taxa_recursive.params.df"></span><strong>df</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.sort_taxa_recursive.params.df">¶</a> – Taxa dataframe to be sorted</p></li>
<li><p><span class="target" id="coldp.COLDP.sort_taxa_recursive.params.ids"></span><strong>ids</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.sort_taxa_recursive.params.ids">¶</a> – Alternative list of IDs and preferred positions (as strings)</p></li>
<li><p><span class="target" id="coldp.COLDP.sort_taxa_recursive.params.id"></span><strong>id</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.sort_taxa_recursive.params.id">¶</a> – Taxon ID for current taxon</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#coldp.COLDP.sort_taxa_recursive.params.ids" title="coldp.COLDP.sort_taxa_recursive"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ids</span></code></a> with additional values for current taxon and its descendents</p>
</dd>
</dl>
<p>Appends next taxon ID to the list along with a value guaranteed to be
higher than the one added on the previous execution of this method.
Recursively add IDs for children.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.prepare_bundle">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">prepare_bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.prepare_bundle" title="Link to this definition">¶</a></dt>
<dd><p>Add extra names to <code class="xref py py-class docutils literal notranslate"><span class="pre">NameBundle</span></code> if required based on current options</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.prepare_bundle.params.bundle"></span><strong>bundle</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.prepare_bundle.params.bundle">¶</a> – NameBundle to be processed</p>
</dd>
</dl>
<p>If <a class="reference internal" href="#coldp.COLDP.__init__.params.insert_species_for_trinomials" title="coldp.COLDP.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">insert_species_for_trinomials</span></code></a> is True, ensure that the implied binomial exists for any new trinomials.</p>
<p>If <a class="reference internal" href="#coldp.COLDP.__init__.params.create_subspecies_for_infrasubspecifics" title="coldp.COLDP.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">create_subspecies_for_infrasubspecifics</span></code></a> is True, add a subspecies-rank synonym to the bundle for each infrasubspecific name.</p>
<p>If <a class="reference internal" href="#coldp.COLDP.__init__.params.create_synonyms_without_subgenus" title="coldp.COLDP.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">create_synonyms_without_subgenus</span></code></a> is True, add a subgenus-free synonym to the bundle for each name containing a subgenus.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.validate_record">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">validate_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.validate_record" title="Link to this definition">¶</a></dt>
<dd><p>Verify whether all ID values used as forign keys in <a class="reference internal" href="#coldp.COLDP.validate_record.params.record" title="coldp.COLDP.validate_record"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">record</span></code></a> correspond with existing records in the relevant tables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.validate_record.params.record_type"></span><strong>record_type</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.validate_record.params.record_type">¶</a> – Name for the data class to which this record should below</p></li>
<li><p><span class="target" id="coldp.COLDP.validate_record.params.record"></span><strong>record</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.validate_record.params.record">¶</a> – Dictionary of COLDP properties for the record</p></li>
</ul>
</dd>
</dl>
<p>Uses the <a class="reference internal" href="#coldp.id_mappings" title="coldp.id_mappings"><code class="xref py py-data docutils literal notranslate"><span class="pre">id_mappings</span></code></a> dictionary to identify which properties
should be foreign keys. If these are present in the current record, check
that the supplied value is indeed an ID from the relevant table.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.identify_name">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">identify_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.identify_name" title="Link to this definition">¶</a></dt>
<dd><p>Ensure COLDP Name record is present and return a copy containing the current ID and basionymID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.identify_name.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.identify_name.params.name">¶</a> – Dictionary containing COLDP Name properties</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Currently stored version of the name record in question</p>
</dd>
</dl>
<p>If a COLDP Name record for this name already exists
(based on <a class="reference internal" href="#coldp.COLDP.find_name_record" title="coldp.COLDP.find_name_record"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_name_record()</span></code></a>), return the existing
name, unless this is a species name and the
<a class="reference internal" href="#coldp.COLDP.__init__.params.allow_repeated_binomials" title="coldp.COLDP.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">allow_repeated_binomials</span></code></a> option has been set,
in which case a new record will be created.</p>
<p>If the name is missing, create a new record with the next unused ID
value and return the record with the ID.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.same_basionym">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">same_basionym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.same_basionym" title="Link to this definition">¶</a></dt>
<dd><p>Validates whether two name records share the same basionym (i.e. are different combinations for the same original name)
:param _sphinx_paramlinks_coldp.COLDP.same_basionym.a: Dictionary with parameters representing a COLDP Name record
:param _sphinx_paramlinks_coldp.COLDP.same_basionym.b: Dictionary with parameters representing a COLDP Name record
:return: True if the parenthensis-free authorship and lowest-ranked epithets match, False otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.remove_gender">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">remove_gender</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epithet</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.remove_gender" title="Link to this definition">¶</a></dt>
<dd><p>Return epithet stripped on all likely gender-specific endings</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.remove_gender.params.epithet"></span><strong>epithet</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.remove_gender.params.epithet">¶</a> – String zoological epithet</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Epithet stripped of any possible Greek or Latin gender endings</p>
</dd>
</dl>
<p>Removes “a”, “us”, “um”, “is”, “e”, “os” or “on” as an ending.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.get_original_authorship">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">get_original_authorship</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authorship</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.get_original_authorship" title="Link to this definition">¶</a></dt>
<dd><p>Return authorship string without enclosing parentheses</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.get_original_authorship.params.authorship"></span><strong>authorship</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.get_original_authorship.params.authorship">¶</a> – Authorship string</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Authorship stripped of enclosing parentheses</p>
</dd>
</dl>
<p>Relevant only for zoological names</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.epithet_and_authorship_match">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">epithet_and_authorship_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epithet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authorship</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.epithet_and_authorship_match" title="Link to this definition">¶</a></dt>
<dd><p>Check whether a name record matches the supplied epithet and authorship</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.epithet_and_authorship_match.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.epithet_and_authorship_match.params.name">¶</a> – Dictionary containing COLDP Name record</p></li>
<li><p><span class="target" id="coldp.COLDP.epithet_and_authorship_match.params.epithet"></span><strong>epithet</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.epithet_and_authorship_match.params.epithet">¶</a> – Specific or infraspecific epithet</p></li>
<li><p><span class="target" id="coldp.COLDP.epithet_and_authorship_match.params.authorship"></span><strong>authorship</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.epithet_and_authorship_match.params.authorship">¶</a> – Authorship string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the <a class="reference internal" href="#coldp.COLDP.epithet_and_authorship_match.params.epithet" title="coldp.COLDP.epithet_and_authorship_match"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">epithet</span></code></a> matches the lowest-ranked epithet and <a class="reference internal" href="#coldp.COLDP.epithet_and_authorship_match.params.authorship" title="coldp.COLDP.epithet_and_authorship_match"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">authorship</span></code></a> matches the authorship in the name record</p>
</dd>
</dl>
<p>Comparison ignores epithet gender endings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.set_basionymid">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">set_basionymid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basionymid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.set_basionymid" title="Link to this definition">¶</a></dt>
<dd><p>Set basionymID on Name record in names DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.set_basionymid.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.set_basionymid.params.name">¶</a> – Name record as dictionary of COLDP properties</p></li>
<li><p><span class="target" id="coldp.COLDP.set_basionymid.params.basionymid"></span><strong>basionymid</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.set_basionymid.params.basionymid">¶</a> – String ID of associated basionyn record</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.fix_basionymid">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">fix_basionymid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synonyms</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.fix_basionymid" title="Link to this definition">¶</a></dt>
<dd><p>Update name so its basionymID references the original combination in a list of synonyms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.fix_basionymid.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.fix_basionymid.params.name">¶</a> – Dictionary containing COLDP Name record for which basionymID is to be fixed</p></li>
<li><p><span class="target" id="coldp.COLDP.fix_basionymid.params.synonyms"></span><strong>synonyms</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.fix_basionymid.params.synonyms">¶</a> – List of COLDP Name records that may contain basionym</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>Returns name following any updates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.construct_species_rank_name">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">construct_species_rank_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.construct_species_rank_name" title="Link to this definition">¶</a></dt>
<dd><p>Consistently construct a species or infraspecific name from the included epithets and optional rank marker</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.construct_species_rank_name.params.g"></span><strong>g</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.construct_species_rank_name.params.g">¶</a> – Genus name</p></li>
<li><p><span class="target" id="coldp.COLDP.construct_species_rank_name.params.sg"></span><strong>sg</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.construct_species_rank_name.params.sg">¶</a> – Subgenus name</p></li>
<li><p><span class="target" id="coldp.COLDP.construct_species_rank_name.params.s"></span><strong>s</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.construct_species_rank_name.params.s">¶</a> – Specific epithet</p></li>
<li><p><span class="target" id="coldp.COLDP.construct_species_rank_name.params.ss"></span><strong>ss</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.construct_species_rank_name.params.ss">¶</a> – Infraspecific epithet</p></li>
<li><p><span class="target" id="coldp.COLDP.construct_species_rank_name.params.marker"></span><strong>marker</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.construct_species_rank_name.params.marker">¶</a> – Rank marker (e.g. “var.”) or rank name (“variety”)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Complete scientific name string (no italics or authorship)</p>
</dd>
</dl>
<p>Convenience method for composing a scientific name with option subgenus,
infraspecific epithet and rank marker. A variety of markers are handled
and mapped to one of “var.”, “subvar.”, “f.” and “ab.”.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.construct_authorship">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">construct_authorship</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_basionym</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.construct_authorship" title="Link to this definition">¶</a></dt>
<dd><p>Consistently construct a scientific name authorship from the included author names and year with parentheses where required</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="coldp.COLDP.construct_authorship.params.a"></span><strong>a</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.construct_authorship.params.a">¶</a> – Author string</p></li>
<li><p><span class="target" id="coldp.COLDP.construct_authorship.params.y"></span><strong>y</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.construct_authorship.params.y">¶</a> – Publication year as string</p></li>
<li><p><span class="target" id="coldp.COLDP.construct_authorship.params.is_basionym"></span><strong>is_basionym</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.construct_authorship.params.is_basionym">¶</a> – Boolean to indicate whether this is the original combination (basionym) or a subsequent combination that requires parentheses</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple including 1) formatted authorship string and 2) publication year as a separate string</p>
</dd>
</dl>
<p>Convenience method for composing an authorship string. Includes parentheses if <a class="reference internal" href="#coldp.COLDP.construct_authorship.params.is_basionym" title="coldp.COLDP.construct_authorship"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">is_basionym</span></code></a> is True.</p>
<p>If the <a class="reference internal" href="#coldp.COLDP.construct_authorship.params.year" title="coldp.COLDP.construct_authorship"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">year</span></code></a> includes more
than one part (e.g. “1832 [1831-1838]”), the first part (“1832”) is used
for the year in the authorship string and the second part (“[1831-1838]”)
is returned as the publication year. Otherwise, the same string is used
in both cases.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.is_species_group">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">is_species_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.is_species_group" title="Link to this definition">¶</a></dt>
<dd><p>Check whether name is in the species group (species or lower rank)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.is_species_group.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.is_species_group.params.name">¶</a> – Dictionary representing a COLDP Name record</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the name is in the species group, False otherwise</p>
</dd>
</dl>
<p>Simply checks if the name includes a specificEpithet value. Any name
passed to this method should include atomic name components and not
just a scientificName.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.is_infrasubspecific">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">is_infrasubspecific</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.is_infrasubspecific" title="Link to this definition">¶</a></dt>
<dd><p>Check whether name is in for a rank below the subspecies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.is_infrasubspecific.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.is_infrasubspecific.params.name">¶</a> – Dictionary representing a COLDP Name record</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the name is infraspecific</p>
</dd>
</dl>
<p>Simply checks if the supplied rank is one of those below the subspecies.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coldp.COLDP.issue">
<span class="sig-prename descclassname"><span class="pre">COLDP.</span></span><span class="sig-name descname"><span class="pre">issue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coldp.COLDP.issue" title="Link to this definition">¶</a></dt>
<dd><p>Log issue with data provided through methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="coldp.COLDP.issue.params.message"></span><strong>message</strong><a class="paramlink headerlink reference internal" href="#coldp.COLDP.issue.params.message">¶</a> – Text to be saved as body of issue</p>
</dd>
</dl>
<p>Creates a new record in an issues DataFrame that will be included in the
COLDP export when <a class="reference internal" href="#coldp.COLDP.save" title="coldp.COLDP.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">save()</span></code></a> is called. This record includes
the message and the context string supplied on the most recent call to
<a class="reference internal" href="#coldp.COLDP.set_context" title="coldp.COLDP.set_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_context()</span></code></a>.</p>
<p>If <a class="reference internal" href="#coldp.COLDP.__init__.params.issues_to_stdout" title="coldp.COLDP.__init__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">issues_to_stdout</span></code></a> is True, the context and message
are also output as an error via logging.</p>
</dd></dl>

</section>
<section id="index-and-search">
<h2>Index and search<a class="headerlink" href="#index-and-search" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">COLDP</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">coldp.COLDP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#class">Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#methods">Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#internal-methods">Internal methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#index-and-search">Index and search</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="name-bundle.html">coldp.NameBundle</a></li>
<li class="toctree-l1"><a class="reference internal" href="identifier-policy.html">coldp.IdentifierPolicy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">coldp</a></li>
      <li>Next: <a href="name-bundle.html" title="next chapter">coldp.NameBundle</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Donald Hobern.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/coldp.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>